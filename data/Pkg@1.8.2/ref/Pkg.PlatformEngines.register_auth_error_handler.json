{"attributes":{"kind":"function","backlinks":[],"methods":[{"symbol_id":"Pkg.PlatformEngines.register_auth_error_handler","module_id":"Pkg.PlatformEngines","file":"PlatformEngines.jl","line":95,"signature":"(::Signature)"}],"package_id":"Pkg@1.8.2","title":"register_auth_error_handler","symbol_id":"Pkg.PlatformEngines.register_auth_error_handler","exported":false,"module_id":"Pkg.PlatformEngines"},"tag":"documentation","children":[{"attributes":{"symbol":"Pkg.PlatformEngines.register_auth_error_handler","line":76,"module":"Pkg.PlatformEngines","file":"PlatformEngines.jl"},"tag":"docstring","children":[{"attributes":{},"tag":"md","children":[{"attributes":{"lang":""},"tag":"codeblock","children":["register_auth_error_handler(urlscheme::Union{AbstractString, Regex}, f)\n"],"type":"node"},{"attributes":{},"tag":"p","children":["Registers ",{"attributes":{},"tag":"code","children":["f"],"type":"node"}," as the topmost handler for failures in package server authentication."],"type":"node"},{"attributes":{},"tag":"p","children":["A handler is only invoked if ",{"attributes":{},"tag":"code","children":["occursin(urlscheme, url)"],"type":"node"}," is true (where ",{"attributes":{},"tag":"code","children":["url"],"type":"node"}," is the URL Pkg is currently trying to download.)"],"type":"node"},{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["f"],"type":"node"}," must be a function that takes three input arguments ",{"attributes":{},"tag":"code","children":["(url, pkgserver, err)"],"type":"node"},", where ",{"attributes":{},"tag":"code","children":["url"],"type":"node"}," is the URL currently being downloaded, ",{"attributes":{},"tag":"code","children":["pkgserver = Pkg.pkg_server()"],"type":"node"}," the current package server, and ",{"attributes":{},"tag":"code","children":["err"],"type":"node"}," is one of ",{"attributes":{},"tag":"code","children":["no-auth-file"],"type":"node"},", ",{"attributes":{},"tag":"code","children":["insecure-connection"],"type":"node"},", ",{"attributes":{},"tag":"code","children":["malformed-file"],"type":"node"},", ",{"attributes":{},"tag":"code","children":["no-access-token"],"type":"node"},", ",{"attributes":{},"tag":"code","children":["no-refresh-key"],"type":"node"}," or ",{"attributes":{},"tag":"code","children":["insecure-refresh-url"],"type":"node"},"."],"type":"node"},{"attributes":{},"tag":"p","children":["The handler ",{"attributes":{},"tag":"code","children":["f"],"type":"node"}," needs to return a tuple of ",{"attributes":{},"tag":"code","children":["Bool"],"type":"node"},"s ",{"attributes":{},"tag":"code","children":["(handled, should_retry)"],"type":"node"},". If ",{"attributes":{},"tag":"code","children":["handled"],"type":"node"}," is ",{"attributes":{},"tag":"code","children":["false"],"type":"node"},", the next handler in the stack will be called, otherwise handling terminates; ",{"attributes":{},"tag":"code","children":["get_auth_header"],"type":"node"}," is called again if ",{"attributes":{},"tag":"code","children":["should_retry"],"type":"node"}," is ",{"attributes":{},"tag":"code","children":["true"],"type":"node"},"."],"type":"node"},{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":["register_auth_error_handler"],"type":"node"}," returns a zero-arg function that can be called to deregister the handler."],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}